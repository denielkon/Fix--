const playVideoButton=document.getElementsByClassName("main-page_video"),videoWrapper=document.getElementsByClassName("video-wrapper"),images=document.querySelectorAll(".slider .slider-item"),img=document.querySelectorAll(".slider .slider-item img"),sliderTrack=document.querySelectorAll(".slider-track"),input=document.querySelectorAll("form .input-wrapper div input"),label=document.querySelectorAll("form .input-wrapper div label"),submit=document.querySelectorAll("form > input"),form=document.querySelectorAll(".form"),successForm=document.querySelectorAll(".form .success-from-wrapper"),body=document.querySelectorAll("body");input[2].addEventListener("input",(function(){let e=input[2].value;e=e.replace(/^\+7 /,""),e=e.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/),e=e[2]?e[1]+" "+e[2]+(e[3]?"-"+e[3]:"")+(e[4]?"-"+e[4]:""):e[1],e=e.startsWith("+7 ")?e:"+7 "+e,input[2].value=e})),submit[0].onclick=function(e){e.preventDefault(),""===input[0].value&&(label[0].classList.add("error"),input[0].classList.add("error"),label[0].innerHTML="Это поле не может быть пустым"),input[1].value||(label[1].classList.add("error"),input[1].classList.add("error"),label[1].innerHTML="Это поле не может быть пустым"),!input[1].value.includes("@")&&input[1].value&&(label[1].classList.add("error"),input[1].classList.add("error"),label[1].innerHTML="Неверный формат e-mail"),16!==input[2].value.length&&input[2].value.length>3&&(label[2].classList.add("error"),input[2].classList.add("error"),label[2].innerHTML="Невалидный номер телефона"),input[1].value&&input[1].value.includes("@")&&input[1].value&&(16===input[2].value.length||input[2].value.length<=3)&&([...form[0].children].slice(1,6).forEach(e=>{e.style.display="none"}),successForm[0].style.display="block")},input[0].addEventListener("focus",(function(){label[0].classList="active",input[0].classList="active",input[0].placeholder="",label[0].innerHTML="Имя и Фамилия*"})),input[0].addEventListener("blur",(function(){label[0].classList.remove("active"),input[0].placeholder="Имя и Фамилия*"})),input[1].addEventListener("focus",(function(){label[1].classList="active",label[1].innerHTML="E-mail адрес*",input[1].classList="active",input[1].placeholder=""})),input[1].addEventListener("blur",(function(){label[1].classList.remove("active"),input[1].placeholder="E-mail адрес*"})),input[2].addEventListener("focus",(function(){label[2].classList="active",label[2].innerHTML="Телефон",input[2].classList="active",input[2].placeholder=""})),input[2].addEventListener("blur",(function(){label[2].classList.remove("active"),input[2].placeholder="Телефон"}));let width,height,prevSlide,currentSlide,nextSlide,count=0;function addSliderItemClass(){currentSlide.classList="slider-item current-slide",prevSlide.classList="slider-item prev-slide",nextSlide.classList="slider-item next-slide"}function init(){addSliderItemClass(),width=window.screen.width,sliderTrack[0].style.width=width+images.offsetWidth+"px",img.forEach(e=>{e.style.width=width/2+"px",e.style.height="auto"}),height=img[0].offsetHeight,sliderTrack[0].style.height=height+"px"}prevSlide=images[images.length-1],nextSlide=images[count+1],currentSlide=images[count],window.addEventListener("resize",init),document.querySelectorAll(".slider-next")[0].addEventListener("click",(function(){count++,count>=images.length?(count=0,prevSlide=images[images.length-1],nextSlide=images[count+1],currentSlide=images[count]):count===images.length-1?(prevSlide=images[count-1],nextSlide=images[0],currentSlide=images[count]):(prevSlide=images[count-1],nextSlide=images[count+1],currentSlide=images[count]),addSliderItemClass(),sliderTrack[0].style.transform="translate(-"+sliderTrack[0].style.width/2+"px)"})),document.querySelectorAll(".slider-prev")[0].addEventListener("click",(function(){count--,count<0?(count=images.length-1,prevSlide=images[count-1],nextSlide=images[0],currentSlide=images[count]):0===count?(prevSlide=images[images.length-1],nextSlide=images[count+1],currentSlide=images[count]):(prevSlide=images[count-1],nextSlide=images[count+1],currentSlide=images[count]),addSliderItemClass(),sliderTrack[0].style.transform="translate(-"+sliderTrack[0].style.width+"px)"})),init(),playVideoButton[0].onclick=function(){videoWrapper[0].classList.add("active"),body[0].classList.add("no-scrool"),document.addEventListener("keydown",(function(e){27==e.keyCode&&(videoWrapper[0].classList.remove("active"),body[0].classList.remove("no-scrool"))}))},document.onclick=function(e){"video"!==e.target.className&&"close-cross"!==e.target.className||(videoWrapper[0].classList.remove("active"),body[0].classList.remove("no-scrool"))};